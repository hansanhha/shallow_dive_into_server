[redis](#redis)

[아키텍처](#아키텍처)

[주요 구성 요소](#주요-구성-요소)

[레디스 설치](#레디스-설치)

[데이터 타입](#데이터-타입)

[주요 명령어](#주요-명령어)

고급 기능
- [pub/sub](#pubsub)
- [redis streams](#redis-streams)
- [pipeline](#pipeline)
- [redis cluster](#redis-cluster)

[성능 최적화](#성능-최적화)

[보안](#보안)

## redis (remote dictionary server)

데이터를 비정형 형식으로 저장하는 [nosql 데이터베이스](../nosql/nosql.md)의 일종으로 메모리 기반의 키-값 데이터 저장소다

### 주요 특징

#### in-memory data store

데이터를 메모리에 저장하여 읽기/쓰기 속도가 매우 빠르다

다만 대규모 데이터 저장 시 비용이 증가한다

데이터의 영구 저장도 필요한 경우에 지원한다 (rdb/aof) 

#### key-value store

데이터를 키와 값 형태로 저장한다

값에 넣을 수 있는 데이터 구조
- Strings, Lists, Sets, Sorted Sets, Hashes, Streams, HyperLogLogs, Bitmaps

#### 싱글 스레드 기반

I/O와 명령어 실행의 병목을 최소화하기 위해 싱글 스레드로 동작하여 분산/멀티 스레드 환경에서의 락 문제를 없앴다

#### 사용 사례

캐싱, 분산 락, 세션 관리, 실시간 데이터 처리, pub/sub 메시징, 레이트 리미팅 등

## 레디스 설치

## 아키텍처

### 메모리 기반 데이터 저장

모든 데이터를 메모리에 저장하고 필요에 따라 디스크에서 백업한다

메모리에서 데이터를 처리하므로 매우 빠르긴 하지만 메모리가 부족하면 성능 저하가 발생한다

### 싱글 스레드 아키텍처

싱글 스레드로 명령어를 fifo(first-in-first-out) 방식으로 처리한다

cpu 작업보다는 메모리와 네트워크 속도에 의존한다

싱글 스레드지만 내부적으로 i/o 멀티플렉싱(비동기 이벤트 처리)을 사용하여 고성능을 유지한다

### 데이터 지속성

레디스는 메모리 기반이지만 영구성을 제공하여 데이터를 디스크에 저장할 수 있다

rdb (redis database snapshot)
- 특정 시점의 데이터를 스냅샷으로 디스크에 저장하는 방식
- 최근 데이터를 손실할 수 있다

aof (append-only file)
- 모든 쓰기 작업을 로그에 기록한다
- 데이터 손실 가능성이 적지만 파일 크기가 증가한다

혼합모드
- rdb와 aof를 조합하여 성능과 데이터 안전성을 모두 만족시킨다

### 네트워크 모델

레디스는 기본적으로 요청-응답(클라이언트-서버) 모델을 따른다

클라이언트는 TCP를 통해 레디스 서버와 통신한다

## 주요 구성 요소

#### 레디스 서버

레디스의 핵심 서버 프로세스

클라이언트의 요청을 처리하고 데이터를 관리한다

#### 레디스 클라이언트

다양한 언어에서 레디스와 통신할 수 있는 클라이언트를 지원한다

java: jedis, lettuce, redisson

#### 레디스 데이터

레디스의 메모리에 저장된 데이터

키-값 데이터외에도 다양한 데이터 구조를 지원한다

## 데이터 타입

## 주요 명령어

## pub/sub

## redis streams

## pipeline

## redis cluster

### 혼합 모드

### 백업 및 복구

## 성능 최적화

### redis 메모리 관리

메모리 사용량 분석 

ttl 설정과 메모리 정책

### 샤딩

## 보안

### 비밀번호 설정

### 네트워크 보안

### acl (access control list)